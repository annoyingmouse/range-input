{"version":3,"sources":["../../js/range-input.es6"],"names":["rangeHolders","document","querySelectorAll","triggerChange","element","legends","value","parseInt","dataset","navigator","userAgent","match","classList","add","remove","a","length","console","log","className","split","find","test","c","replace","rangeHolder","arrowPointer","querySelector","sliderHolder","pseudoDrag","addEventListener","event","stopPropagation","currentValue","offsetX","toString","headers","b","target","textContent","mouseUp","parentNode","removeEventListener","mouseMove","removeAttribute","Math","round","clientX","style","left","mouseDown"],"mappings":"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","file":"range-input.js","sourcesContent":["// // https://tc39.github.io/ecma262/#sec-array.prototype.find\r\n// if (!Array.prototype.find) {\r\n//     Object.defineProperty(Array.prototype, 'find', {\r\n//         value: function(predicate) {\r\n//             // 1. Let O be ? ToObject(this value).\r\n//             if (this == null) {\r\n//                 throw new TypeError('\"this\" is null or not defined');\r\n//             }\r\n//\r\n//             var o = Object(this);\r\n//\r\n//             // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n//             var len = o.length >>> 0;\r\n//\r\n//             // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n//             if (typeof predicate !== 'function') {\r\n//                 throw new TypeError('predicate must be a function');\r\n//             }\r\n//\r\n//             // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n//             var thisArg = arguments[1];\r\n//\r\n//             // 5. Let k be 0.\r\n//             var k = 0;\r\n//\r\n//             // 6. Repeat, while k < len\r\n//             while (k < len) {\r\n//                 // a. Let Pk be ! ToString(k).\r\n//                 // b. Let kValue be ? Get(O, Pk).\r\n//                 // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n//                 // d. If testResult is true, return kValue.\r\n//                 var kValue = o[k];\r\n//                 if (predicate.call(thisArg, kValue, k, o)) {\r\n//                     return kValue;\r\n//                 }\r\n//                 // e. Increase k by 1.\r\n//                 k++;\r\n//             }\r\n//\r\n//             // 7. Return undefined.\r\n//             return undefined;\r\n//         },\r\n//         configurable: true,\r\n//         writable: true\r\n//     });\r\n// }\r\n\r\n(() => {\r\n    const rangeHolders = document.querySelectorAll(\".rangeHolder\");\r\n    const triggerChange = (element) => {\r\n        const legends = element.querySelectorAll(\".legend\");\r\n        const value = parseInt(element.dataset.value, 10) + 1;\r\n        if(!!navigator.userAgent.match(/Trident.*rv\\:11\\./)){\r\n            element.classList.add(\"redraw\");\r\n            element.classList.remove(\"redraw\");\r\n        }\r\n        for(let a = 0; a < legends.length; a++){\r\n            console.log(legends[a].className.split(' '));\r\n            if(parseInt(legends[a].className.split(' ').find(c => /legend-\\d/.test(c)).replace( /^\\D+/g, ''), 10) < value){\r\n            //if(Array.find(legends[a].className.split(' '), c => parseInt(/legend-\\d/.test(c).replace( /^\\D+/g, '')), 10) < value){\r\n                legends[a].classList.remove(\"deselected\");\r\n            }else{\r\n                legends[a].classList.add(\"deselected\");\r\n            }\r\n        }\r\n    };\r\n    for(let a = 0; a < rangeHolders.length; a++){\r\n        const rangeHolder = rangeHolders[a];\r\n        const arrowPointer = rangeHolder.querySelector(\".arrowPointerFront\");\r\n        const sliderHolder = rangeHolder.querySelector(\".sliderHolder\");\r\n        const pseudoDrag = rangeHolder.querySelector(\".pseudoDrag\");\r\n        triggerChange(rangeHolder);\r\n        arrowPointer.addEventListener(\"click\", (event) => {\r\n            event.stopPropagation();\r\n            let currentValue = parseInt(rangeHolder.dataset.value, 10);\r\n            if(currentValue > 1 && event.offsetX < 20){\r\n                currentValue--;\r\n            }\r\n            if(currentValue < 7 && event.offsetX > 20){\r\n                currentValue++;\r\n            }\r\n            rangeHolder.dataset.value = currentValue.toString();\r\n            triggerChange(rangeHolder);\r\n        });\r\n        const headers = rangeHolder.querySelectorAll(\"header\");\r\n        for(let b = 0; b < headers.length; b++) {\r\n            headers[b].addEventListener(\"click\", (event) => {\r\n                rangeHolder.dataset.value = parseInt(event.target.textContent, 10);\r\n                triggerChange(rangeHolder);\r\n            });\r\n        }\r\n        const mouseUp = (event) => {\r\n            pseudoDrag.parentNode.parentNode.removeEventListener('mousemove', mouseMove);\r\n            sliderHolder.removeAttribute(\"style\");\r\n            rangeHolder.dataset.value = Math.round(event.clientX / 140).toString();\r\n            triggerChange(rangeHolder);\r\n        };\r\n        const mouseMove = (event) => {\r\n            sliderHolder.style.left = `${event.clientX}px`;\r\n            rangeHolder.dataset.value = Math.round(event.clientX / 140).toString();\r\n            triggerChange(rangeHolder);\r\n        };\r\n        const mouseDown = (event) => {\r\n            pseudoDrag.parentNode.parentNode.addEventListener('mousemove', mouseMove);\r\n            pseudoDrag.parentNode.parentNode.addEventListener('mouseup', mouseUp);\r\n        };\r\n        console.log(pseudoDrag);\r\n        pseudoDrag.addEventListener(\"mousedown\", mouseDown);\r\n    }\r\n})();\r\n\r\n\r\n"]}