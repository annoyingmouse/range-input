{"version":3,"sources":["../../js/range-input.es6"],"names":["Array","prototype","find","Object","defineProperty","value","predicate","TypeError","o","len","length","thisArg","arguments","k","kValue","call","undefined","configurable","writable","rangeHolders","document","querySelectorAll","triggerChange","element","legends","parseInt","dataset","navigator","userAgent","match","classList","add","remove","a","className","split","test","c","replace","dragging","startX","startY","rangeHolder","arrowPointer","querySelector","pseudoSlider","addEventListener","event","currentValue","offsetX","headers","b","target","textContent","mouseUp","console","log","removeEventListener","mouseMove","mouseDown","boundingBox","getBoundingClientRect","x","y"],"mappings":"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","file":"range-input.js","sourcesContent":["// https://tc39.github.io/ecma262/#sec-array.prototype.find\r\nif (!Array.prototype.find) {\r\n    Object.defineProperty(Array.prototype, 'find', {\r\n        value: function(predicate) {\r\n            // 1. Let O be ? ToObject(this value).\r\n            if (this == null) {\r\n                throw new TypeError('\"this\" is null or not defined');\r\n            }\r\n\r\n            var o = Object(this);\r\n\r\n            // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n            var len = o.length >>> 0;\r\n\r\n            // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n            if (typeof predicate !== 'function') {\r\n                throw new TypeError('predicate must be a function');\r\n            }\r\n\r\n            // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n            var thisArg = arguments[1];\r\n\r\n            // 5. Let k be 0.\r\n            var k = 0;\r\n\r\n            // 6. Repeat, while k < len\r\n            while (k < len) {\r\n                // a. Let Pk be ! ToString(k).\r\n                // b. Let kValue be ? Get(O, Pk).\r\n                // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n                // d. If testResult is true, return kValue.\r\n                var kValue = o[k];\r\n                if (predicate.call(thisArg, kValue, k, o)) {\r\n                    return kValue;\r\n                }\r\n                // e. Increase k by 1.\r\n                k++;\r\n            }\r\n\r\n            // 7. Return undefined.\r\n            return undefined;\r\n        },\r\n        configurable: true,\r\n        writable: true\r\n    });\r\n}\r\n\r\n(() => {\r\n    const rangeHolders = document.querySelectorAll(\".rangeHolder\");\r\n    const triggerChange = (element) => {\r\n        const legends = element.querySelectorAll(\".legend\");\r\n        const value = parseInt(element.dataset.value, 10) + 1;\r\n        if(!!navigator.userAgent.match(/Trident.*rv\\:11\\./)){\r\n            element.classList.add(\"redraw\");\r\n            element.classList.remove(\"redraw\");\r\n        }\r\n        for(let a = 0; a < legends.length; a++){\r\n            if(parseInt(legends[a].className.split(' ').find(c => /legend-\\d/.test(c)).replace( /^\\D+/g, ''), 10) < value){\r\n                legends[a].classList.remove(\"deselected\");\r\n            }else{\r\n                legends[a].classList.add(\"deselected\");\r\n            }\r\n        }\r\n    };\r\n    for(let a = 0; a < rangeHolders.length; a++){\r\n\r\n        let dragging = false;\r\n        let startX = null;\r\n        let startY = null;\r\n\r\n        const rangeHolder = rangeHolders[a];\r\n        const arrowPointer = rangeHolder.querySelector(\".arrowPointerFront\");\r\n        const pseudoSlider = rangeHolder.querySelector(\".pseudoSlider\");\r\n        triggerChange(rangeHolder);\r\n        arrowPointer.addEventListener(\"click\", (event) => {\r\n            let currentValue = parseInt(rangeHolder.dataset.value, 10);\r\n            if(currentValue > 1 && event.offsetX < 20){\r\n                currentValue--;\r\n            }\r\n            if(currentValue < 7 && event.offsetX > 20){\r\n                currentValue++;\r\n            }\r\n            rangeHolder.dataset.value = currentValue;\r\n            triggerChange(rangeHolder);\r\n        });\r\n        const headers = rangeHolder.querySelectorAll(\"header\");\r\n        for(let b = 0; b < headers.length; b++) {\r\n            headers[b].addEventListener(\"click\", (event) => {\r\n                rangeHolder.dataset.value = parseInt(event.target.textContent, 10);\r\n                triggerChange(rangeHolder);\r\n            });\r\n        }\r\n\r\n        const mouseUp = (event) => {\r\n            console.log(\"mouseUp event\", event);\r\n            dragging = false;\r\n            pseudoSlider.removeEventListener('mousemove', mouseMove);\r\n        };\r\n        const mouseMove = (event) => {\r\n            console.log(\"mouseMove event\", event);\r\n        };\r\n        const mouseDown = (event) => {\r\n            console.log(\"mouseDown event\", event);\r\n            const boundingBox = pseudoSlider.getBoundingClientRect();\r\n            startX = boundingBox.x;\r\n            startY = boundingBox.y;\r\n            dragging = true;\r\n            pseudoSlider.addEventListener('mousemove', mouseMove);\r\n            pseudoSlider.addEventListener('mouseup', mouseUp);\r\n        };\r\n        pseudoSlider.addEventListener(\"mousedown\", mouseDown);\r\n    }\r\n\r\n\r\n})();\r\n\r\n\r\n"]}